# Project 2: Interactive Devices

This project's theme is the importance of taking time for yourself to enjoy life and give yourself a pat on the back. The device utilized an ESP32 TTGO connected to a laptop by a USB-C cord. The ESP32 had a joystick, button, and potentiometer attached to it. The device creates an interactive "personal dance party" which reminds the audience to take a little time for joy and celebration in their day and to stop being so hard on themselves and celbrate. 

The hardware set up for this project involved soldering pins to the ESP32 so there was somewhere to attach the wires and then using wires where both ends are receptive to pins to connect the esp32 to the joystick, button, and potentiometer. In order to attach the putton this way, I first had to solder some wire coming off of each of the prongs of the button that would fit inside the pinslot of the clonnecting wire. 

The arduino code uploaded to the ESP32 for this project formats the data from the button, joystick, and potentiometer into a string in the format of a dictionary (formatted to be parsable into a disctionary by JSON). It then uses the Serial.println function to output the string.

The HTML and Javascript code then utilizes the data in order to make the dynamic page. On first click, the page asks what port to connect to and the user should select the port of the ESP32 connection. Then the code to read in the values from the ESP32 for the joystick, potentiometer, and button begins. One challenge is that the data transmited from the ESP32 output to the Javascript page in not always perfect or perfectly divided into strings that each represent one dictionary. To address this, I had the Javascript code take any input that starts with "{" and keep appending future inputs to it until the string contains "}" and then attempting to parse the string into a dictionary, with all of this being in the try part of a try/catch in case something goes wrong. If there ends up being an error the code starts over with a new input and tries again. If there is no error than the website is updated to reflect the inputs and then the Javascript starts again with a new input.

The inputs from the joystick, button, and potentiometer affect what is seen on the website which also always displays a dancing dog, represting the person having the "personal dance party". Moving the joystick allows for the background color, or the "lights", to be adjusted. Adjusting the background color reveals the suprise hidden message "Celebrate yourself!" that is camouflaged when the joystick is in the neutral position by matching that background color. When the user moves the joystick the color is determined based on the x and y position of the joystick. When the user presses down on the joystick the background color becomes a random color and if the button continues to be held down new random color backgrounds will be displayed. When the pressing down stops, the website goes to its background color based on joystick position. 

Pressing the button leads to the appearance of confetti for as long as the button is held down. I programmed the "Celebrate yorself!" text to disappear whenever the button is pressed so that the text and the confetti weren't visually competing for attention. The potentiometer controls the volume of the song being played on the website, Katie Perry's "Firework". One technical challenge with the music that I discovered is that Google Chrome, the browser I was using, does not allow for audio to autoplay when the website starts, so I had to connect the music starting to some user interaction with the website, namely the starting click.

To build an enclosure for this project I used a cardbooard bowl. I had previously tried a cardboard box, but I found it was to flimsy under the pressure of the joystick and button being pressed. The enclosure has the bowl upside down with the ESP32 and the wiring underneath it. The potentiometers base is taped to the inside of the bowl with the knob sticking up through a hole in the bowl. The button and the joystick are sitting on top of the upward facing bowl bottom because they need the support of the bowl to withstand being pressed. There are holes covered in electrical tape that allow the wires of the button and joystick to connect to the ESP 32 under the bowl. The bowl also has a cutout on the side to help the USB-C cord reach the computer. To decorate the enclosure I used mutliple colors of construction paper, reministent of the confetti that the button makes appear in order to make the enclosure fit with the festive theme of the project. I also added a brief label to the joystick, button, and potentiometer to give the user a basic idea of what they do.

